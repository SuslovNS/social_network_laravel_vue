import{_ as u,o as a,c as n,e as s,i as m,v as h,b as _,F as p,a as f,t as c}from"./app.a3a777a0.js";const g={name:"Search",data(){return{query:"",actors:[],loading:!1}},methods:{async translateName(){let o=this.query;if(/[\u0400-\u04FF]/.test(this.query)){const t=await axios.get(`https://www.wordreference.com/ruen/${this.query}`);o=new DOMParser().parseFromString(t.data,"text/html").querySelector(".ToWrd").textContent.trim()}return o},async searchActors(){this.loading=!0;const o=await this.translateName();console.log(o),axios.get(`https://api.kinopoisk.dev/v1/person?movies.description=${o}`,{headers:{"X-API-KEY":"YGHZGWA-5ZC4XX9-HTH03V2-Q24F4QB"}}).then(t=>{this.actors=t.data.docs,this.loading=!1})}}},y={class:"container mx-auto max-w-xl py-8"},x={class:"mb-4"},v={key:0,class:"text-center font-medium py-4"},w={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},b=["src"],k=["href"],q={class:"text-lg font-medium"},F={class:"text-gray-500"};function S(o,t,l,A,r,d){return a(),n("div",y,[s("div",x,[m(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.query=e),onInput:t[1]||(t[1]=(...e)=>d.searchActors&&d.searchActors(...e)),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u0430\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u043E\u043C",class:"w-full p-2 rounded-md border-gray-300 focus:outline-none focus:border-blue-500"},null,544),[[h,r.query]])]),r.loading?(a(),n("div",v," \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... ")):_("",!0),s("ul",w,[(a(!0),n(p,null,f(r.actors,e=>{var i;return a(),n("li",{key:e.id,class:"flex flex-col items-center border rounded-md p-4 shadow-md"},[s("img",{src:e.photo,class:"w-32 h-32 rounded-full object-cover mb-2"},null,8,b),s("a",{href:`https://www.kinopoisk.ru/name/${e.id}`},[s("div",q,c((i=e.name)!=null?i:e.enName),1),s("div",F,c(e.age)+" \u043B\u0435\u0442",1)],8,k)])}),128))])])}const B=u(g,[["render",S],["__scopeId","data-v-3b9d732a"]]);export{B as default};
